リストの要素をランダムに取得する
================================

ランダムな処理をするためには乱数をが必要になります。
乱数を使う方法はいろいろありますが、ここでは簡単さを優先して`System.Randam`を使うことにします。

リストと乱数発生器を渡して、ランダムに要素を取得する関数はこのように書けます。

```haskell
import System.Random

randomElems :: [a] -> StdGen -> [a]
randomElems xs gen = map (xs !!) $ randomRs (0, length xs - 1) gen
```

使ってみましょう。

```haskell
> take 10 $ randomElems [0..100] $ mkStdGen 1234
[20,13,53,58,92,51,74,8,66,21]
> take 10 $ randomElems [0..100] $ mkStdGen 5678
[20,2,32,7,43,81,85,33,22,8]
```

## 解説

次のような手順で考えます。

1. インデックスをランダムに生成する無限リストを作る
2. インデックスを使ってリストの要素を取得する


### インデックスをランダムに生成する無限リストを作る

乱数発生器の`StdGen`を作り、それを使って`randomRs`で乱数を発生させます。

```haskell
> import System.Random 
> gen = mkStdGen 123
> randomRs (0, 9) gen
[3,5,7,0,0,...]
```

`randomRs`は第一引数で与えられた範囲内の値を要素とする無限リストを返します。

これでランダムなインデックスの無限リストを作ることができました。

### インデックスを使ってリストの要素を取得する

リストの中からインデックスで要素を取得するには`(!!)`オペレーターを使います。

インデックスのリストから要素を取得するにはこのようにします。

```haskell
> xs = ["cat", "dog", "alpaca"]
> ns = [2, 0, 1, 1, 2]
> map (xs !!) ns
["alpaca","cat","dog","dog","alpaca"]
```
